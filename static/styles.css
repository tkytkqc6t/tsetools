

/* Utility: highlight lines containing 'Error' in CodeMirror (JS will add this class) */
/* Sidebar menu hover color with high specificity */
a.sidebar-menu-link:hover,
a.sidebar-menu-link:focus,
a.sidebar-menu-link:active {
    color: #ccf4f3 !important;
}
button.sidebar-menu-btn:hover,
button.sidebar-menu-btn:focus,
button.sidebar-menu-btn:active {
    color: #ccf4f3 !important;
}
/* Animate dropdown arrow on hover */
.sidebar-menu-btn:hover .sidebar-menu-arrow,
.sidebar-menu-btn:focus .sidebar-menu-arrow,
.sidebar-menu-btn:active .sidebar-menu-arrow {
    transform: translateY(-4px);
    transition: transform 0.2s;
}
.sidebar-menu-arrow {
    transition: transform 0.2s;
}

/* Custom editor wrapper tweaks (CodeMirror will provide actual token styles) */
.sql-editor-wrapper .CodeMirror { 
    font-family: ui-monospace, Figtree, SFMono-Regular, Menlo, Monaco, 'Roboto Mono', 'Courier New', monospace; 
}

/* Add border to Formatted SQL CodeMirror output using CodeMirror class only */
.CodeMirror .CodeMirror-scroll {
    font-size: 0.875rem; 
    line-height: 1.25rem;
    color: #979797;
    opacity: 0.9;
}

/* Allow resize like textarea */
.CodeMirror {
  resize: vertical;   /* vertical only (like textarea) */
  overflow: auto;
}

/* Make error messages in CodeMirror red if line starts with 'Error' or contains 'Error:' */
.CodeMirror .cm-error-line, .CodeMirror .cm-sql-error {
    color: red !important;
}

/* SQL token styles used by the lightweight highlighter */
.sql-keyword {
    color: #1e40af; /* blue-800 */
    font-weight: 600;
}
.sql-function {
    color: #065f46; /* green-800 */
}
.sql-comment {
    color: #6b7280; /* gray-500 */
    font-style: italic;
}
.sql-string {
    color: #b45309; /* amber-700 */
}
.sql-number {
    color: #7c3aed; /* violet-700 */
}
.sql-operator {
    color: #dc2626; /* red-600 */
}
.sql-paren {
    color: #374151; /* gray-700 */
}
.diff-container { display: flex; gap: 12px; }
.diff-column { flex: 1; min-height: 120px; border: 1px solid #e5e7eb; padding: 8px; background: #fff; overflow:auto; }
.diff-line { padding: 2px 6px; white-space: pre-wrap; word-break: break-word; }
.diff-line.same { background: transparent; }
.diff-line.added { background-color: #d1fae5; } /* green-ish */
.diff-line.removed { background-color: #fee2e2; } /* red-ish */
.diff-empty-placeholder { background-color: #fee2e2; color: transparent; }
.diff-inline-added { background-color: #bbf7d0; }
.diff-inline-removed { background-color: #fecaca; }
.diff-inline-span { padding: 0 2px; border-radius: 2px; }

/* Layout for side-by-side diff lines */
.diff-line { display: flex; gap: 8px; align-items: flex-start; }
.diff-linenumber { width: 3rem; text-align: right; color: #6b7280; padding-right: 8px; flex: 0 0 auto; }
.diff-cell-content { flex: 1 1 auto; white-space: pre-wrap; word-break: break-word; }
.diff-row-unchanged { background: transparent; }
.diff-row { display: block; padding: 2px 0; }
.diff-left .diff-line { border-right: 1px solid #f3f4f6; padding-right: 8px; }
.diff-right .diff-line { padding-left: 8px; }

/* Prevent selection/copying of the line number column */
.diff-linenumber-wrap { user-select: none; -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; }
.diff-linenumber { pointer-events: none; }

/* Visually highlight lines flagged as error in CodeMirror */
.CodeMirror .cm-error-line {
    background: rgba(255, 0, 0, 0.04) !important;
    border-left: 3px solid rgba(255, 0, 0, 0.25);
}

/* Search & Replace panel styles */
.sr-panel {
    position: fixed;
    top: 78px;
    right: 20px;
    width: 360px;
    background: #ffffff;
    border: 1px solid #e5e7eb;
    box-shadow: 0 6px 18px rgba(15, 23, 42, 0.08);
    padding: 12px;
    z-index: 1100;
    border-radius: 8px;
}
.sr-panel.hidden { display: none; }
.sr-field { width: 100%; padding: 8px; margin-bottom: 8px; border: 1px solid #e6e6e6; border-radius: 6px; font-size: 13px; }
.sr-controls { display: flex; align-items: center; justify-content: space-between; gap: 8px; }
.sr-match-info { font-size: 12px; color: #374151; }

/* small responsive tweak */
@media (max-width: 768px) {
    .sr-panel { right: 12px; left: 12px; width: auto; }
}

/* Highlight overlay for textareas used by Search & Replace */
.sr-wrapper { position: relative; display: inline-block; width: 100%; }
.sr-overlay {
    position: absolute;
    top: 0; left: 0; right: 0; bottom: 0;
    padding: 8px; /* will be synced to textarea padding if needed */
    white-space: pre-wrap; word-break: break-word; overflow: hidden;
    font-family: ui-monospace, Figtree, SFMono-Regular, Menlo, Monaco, 'Roboto Mono', 'Courier New', monospace;
    font-size: 0.875rem; line-height: 1.25rem; color: transparent; pointer-events: none; z-index: 2;
}
.sr-overlay .sr-highlight { background: rgba(253, 224, 71, 0.35); border-radius: 3px; padding: 0 2px; }
.sr-textarea { position: relative; background: transparent; z-index: 3; color: #111; caret-color: #111; }

/* when overlay is hidden we restore default appearance */
.sr-no-overlay .sr-textarea { color: inherit; caret-color: auto; }